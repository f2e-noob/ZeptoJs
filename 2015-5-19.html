<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta charset="utf-8" />
		<title>ZeptoJs</title>
		<meta name="author" content="" />
		<meta name="copyright" content="" />
		<link href="css/style.css" type="text/css" rel="stylesheet">
		<script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
		<script type="text/javascript" src="js/zepto.js"></script>
	</head>
	<body>
		<!-- <div id="con">
			<div id="title">title</div>
			<div id="main">点击title,移动整个框</div>
		</div> -->
		<ul>
			<li>this is one</li>
			<li>this is two</li>
			<li>this is three</li>
			<li>this is four</li>
		</ul>
		<p></p>
		<h3>$.event 事件处理</h3>
		<h3>$.proxy 接受一个函数然后返回一个新函数</h3>

		<script>
			var obj = {name: 'Zepto'},
		    handler = function(){ console.log("hello from + ", this.name) }

			$(document).on('click', $.proxy(handler, obj){

			});	
			 
			 // $('li').add('p').css('background-color', 'red');
			 // $('li').after('<p>fdasfd</p>')
			// (function($){
			//   /*touchstart the title and drag the con moving*/
			//   // var moveX,moveY,startX,startY;
			//   // $(document).on("touchstart","#title",function(event){
			//   //   if($(event.target).attr('id') == 'title'){
			//   //     var touchPros = event.touches[0];
			//   //     startX = touchPros.pageX - event.target.parentNode.offsetLeft;
			//   //     startY = touchPros.pageY - event.target.parentNode.offsetTop;
			//   //   }
			//   //   return false;
			//   // }).on("touchmove","#title",function(event){
			//   //   if($(event.target).attr('id') == 'title'){
			//   //     var touchPros = event.touches[0];
			//   //     moveX = touchPros.pageX - startX;
			//   //     moveY = touchPros.pageY - startY;
			//   //     $('#con').css('left',moveX).css('top',moveY);
			//   //    }
			//   // });
			// })(Zepto); 
			$(document).on('ajaxBeforeSend', function(e, xhr, options){
			  // This gets fired for every Ajax request performed on the page.
			  // The xhr object and $.ajax() options are available for editing.
			  // Return false to cancel this request.
			})

			$.ajax({
			  type: 'GET',
			  url: '/projects',
			  // data to be added to query string:
			  data: { name: 'Zepto.js' },
			  // type of data we are expecting in return:
			  dataType: 'json',
			  timeout: 300,
			  context: $('body'),
			  success: function(data){
			    // Supposing this JSON payload was received:
			    //   {"project": {"id": 42, "html": "<div>..." }}
			    // append the HTML to context object.
			    this.append(data.project.html)
			  },
			  error: function(xhr, type){
			    alert('Ajax error!')
			  }
			})

			// post a JSON payload:
			$.ajax({
			  type: 'POST',
			  url: '/projects',
			  // post payload:
			  data: JSON.stringify({ name: 'Zepto.js' }),
			  contentType: 'application/json'
			})
		</script>
	</body>
</html>